#!/usr/bin/env zsh
# Author: Kapil



#Folder in which to search for files/folder to delete
reportFolder=$1

#Number of reports to keep
numKeep=$2

# Path fixup: figure out where we are and where the relevant analyses directory is.
SCRIPTPATH=${0:A:h}
ANALYSESDIR=$SCRIPTPATH/../leader/reports/${reportFolder}
pushd $ANALYSESDIR

ls -1tr | head -n -$numKeep | while IFS= read -r f; do
  print "$f"
  rm -rf "$f"
done

popd
