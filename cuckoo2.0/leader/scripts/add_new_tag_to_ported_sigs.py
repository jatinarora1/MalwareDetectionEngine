#!/usr/bin/python
import sys
import os
import re

sigs_folder = sys.argv[1]
output_folder = sys.argv[2]


for filename in os.listdir(sigs_folder):
	try:
		f = open(filename, "r")
		#print "Current file: " + filename
		lines = f.readlines()
		outlines = []
		for line in lines:
			#if "description" in line:
				#print "\t" + line
			m=re.match(" *description = \"(.*)\"",line)
			if m:
				orig = m.group(1)
				newline = "(NEW) " + m.group(1)
				newline = line.replace(orig, newline)
				print newline
			else:
				newline = line

			outlines.append(newline)
			
		outpath = output_folder + "/" + filename
		f2 = open(outpath, "w+")
		f2.writelines(outlines)
	except:
		pass



